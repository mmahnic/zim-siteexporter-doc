<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Zim Help: Templates | Site Exporter</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="00/layout/w3css/default.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="w3-black banner">&nbsp;</div>


<div id="top-navindex" class="w3-top">
<div class="w3-bar w3-black">
<nav>
   <a href="index.html" class="w3-bar-item w3-button w3-blue w3-hide-small">&#x2302;</a>
   <a href="operation.html" class="w3-bar-item w3-button w3-hide-small">Operation</a>
   <div class="w3-dropdown-hover">
      <button class="w3-button w3-black w3-hide-small nav-dropdown">Configuration</button>
      <div class="w3-dropdown-content w3-bar-block w3-dark-grey">
         <a href="configuration.html" class="w3-bar-item w3-button w3-hide-small">Configuration</a>
           <a href="configuration/layout.html" class="w3-bar-item w3-button w3-hide-small nav-level1">Layout</a>
           <a href="configuration/translation.html" class="w3-bar-item w3-button w3-hide-small nav-level1">Translations</a>
      </div>
   </div>
   <div class="w3-dropdown-hover">
      <button class="w3-button w3-black w3-hide-small nav-dropdown">Content</button>
      <div class="w3-dropdown-content w3-bar-block w3-dark-grey">
         <a href="content.html" class="w3-bar-item w3-button w3-hide-small">Content</a>
           <a href="content/attribute.html" class="w3-bar-item w3-button w3-hide-small nav-level1">Attributes</a>
           <a href="content/menu.html" class="w3-bar-item w3-button w3-hide-small nav-level1">Menus</a>
           <a href="content/excerpt.html" class="w3-bar-item w3-button w3-hide-small nav-level1">Page Excerpt</a>
      </div>
   </div>
   <div class="w3-dropdown-hover">
      <button class="w3-button w3-black w3-hide-small nav-dropdown">Page Type</button>
      <div class="w3-dropdown-content w3-bar-block w3-dark-grey">
         <a href="page-type.html" class="w3-bar-item w3-button w3-hide-small">Page Type</a>
           <a href="page-type/news.html" class="w3-bar-item w3-button w3-hide-small nav-level1">News</a>
             <a href="page-type/news/news-example.html" class="w3-bar-item w3-button w3-hide-small nav-level2">Git log</a>
           <a href="page-type/redirect.html" class="w3-bar-item w3-button w3-hide-small nav-level1">Redirect</a>
      </div>
   </div>
   <div class="w3-dropdown-hover">
      <button class="w3-button w3-black w3-hide-small nav-dropdown">Templates</button>
      <div class="w3-dropdown-content w3-bar-block w3-dark-grey">
         <a href="template.html" class="w3-bar-item w3-button w3-hide-small">Templates</a>
           <a href="template/variables.html" class="w3-bar-item w3-button w3-hide-small nav-level1">Variables</a>
      </div>
   </div>
   <a href="installation.html" class="w3-bar-item w3-button w3-hide-small">Installation</a>
   <a href="index.html" class="w3-bar-item w3-button w3-blue w3-hide-medium w3-hide-large">&#x2302;</a>
   <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-medium w3-hide-large" onclick="displayBurgerMenu()">&#9776;</a>
</nav>
</div>
</div>

<div id="inline-navindex" class="w3-bar-block w3-black w3-hide w3-hide-large w3-hide-medium">
   <a href="operation.html" class="w3-bar-item w3-button">Operation</a>
   <a href="configuration.html" class="w3-bar-item w3-button">Configuration</a>
     <a href="configuration/layout.html" class="w3-bar-item w3-button nav-level1">Layout</a>
     <a href="configuration/translation.html" class="w3-bar-item w3-button nav-level1">Translations</a>
   <a href="content.html" class="w3-bar-item w3-button">Content</a>
     <a href="content/attribute.html" class="w3-bar-item w3-button nav-level1">Attributes</a>
     <a href="content/menu.html" class="w3-bar-item w3-button nav-level1">Menus</a>
     <a href="content/excerpt.html" class="w3-bar-item w3-button nav-level1">Page Excerpt</a>
   <a href="page-type.html" class="w3-bar-item w3-button">Page Type</a>
     <a href="page-type/news.html" class="w3-bar-item w3-button nav-level1">News</a>
       <a href="page-type/news/news-example.html" class="w3-bar-item w3-button nav-level2">Git log</a>
     <a href="page-type/redirect.html" class="w3-bar-item w3-button nav-level1">Redirect</a>
   <a href="template.html" class="w3-bar-item w3-button">Templates</a>
     <a href="template/variables.html" class="w3-bar-item w3-button nav-level1">Variables</a>
   <a href="installation.html" class="w3-bar-item w3-button">Installation</a>
<script>
function displayBurgerMenu() {
    var nav = document.getElementById("inline-navindex");
    if ( nav == null )
       return;
    if (nav.className.indexOf("w3-show") < 0) {
        nav.className += " w3-show";
        nav.scrollIntoView();
        var bar = document.getElementById("top-navindex");
        if ( bar != null )
           window.scrollBy( 0, -bar.clientHeight );
    } else { 
        nav.className = nav.className.replace(" w3-show", "");
    }
}
</script>
</div>

<div id="main-wrapper" class="w3-container">
<header id="title-block-header">
<h1 class="title">Templates</h1>
</header>
<main>
<p>The pages are exported from Zim to a temporary location with the default Markdown template. After the Markdown files are preporcessed in the temporary location, they are converted to HTML with Pandoc.</p>
<section id="pandoc-template-selection" class="level3">
<h3>Pandoc template selection</h3>
<p>The exporter uses Pandoc to convert Markdown files to HTML5. The exporter expects the templates in the selected layout to have the extension '.html5'. A Pandoc template can be selected for each page. The exporter first checks if a specific template for a page exists. The name of the specific template is obtained from the <em>template</em> attribute. If a <em>type</em> attribute is defined for the page, the exporter checks if a template for the page type exists. The name of the page-type specific template is obtained by adding '@' to the beginnin and the end of the type name, eg. '<span class="citation" data-cites="news">@news</span>@.html5'. If no specific templates are found, the template 'default.html5' is used.</p>
</section>
<section id="pandoc-template-preprocessing" class="level3">
<h3>Pandoc template preprocessing</h3>
<section id="template-fragment-inclusion" class="level4">
<h4>Template fragment inclusion</h4>
<p>When multiple templates are defined in a layout, some parts of the templates repeat in many templates. To simplify the maintenance of templates, these can be combined from multiple files. The preprocessor replaces the directive <code>[@include &lt;filename&gt;@]</code> with the contents of the file <em><filename></em>. The included files usually have the extension '.htmli'. The templates are processed in arbitrary order and in-place so multi-level inclusion is not supported.</p>
</section>
<section id="translations-of-template-texts" class="level4">
<h4>Translations of template texts</h4>
<p>Templates can include static text that can be translated to different languages. The preprocesor replaces the directive <code>[@tr variable Default-Text @]</code> with the pandoc placeholder <code>$sx.tr.variable$</code> and registeres a translation variable. The variable will hold the translated value for each page based on the page's language or the default text if a translation is not available for a language.</p>
</section>
<section id="custom-template-resources" class="level4">
<h4>Custom template resources</h4>
<p>Templates can include custom resurces defined for each page. The preprocesor replaces the directive <code>[@res variable Default-Filename @]</code> with the pandoc placeholder <code>$sx.res.variable$</code> and registeres a translation variable. If the resource is an attachment of the active layout page, the relative path from the page to the resource file will be stored in the variable. The resource can be changed for each page by setting the value of <em>variable</em> in YAML attributes. See the <a href="./template/resource-example.html">Resource Example</a>.</p>
</section>
</section>
</main>
</div>
</body>
</html>

